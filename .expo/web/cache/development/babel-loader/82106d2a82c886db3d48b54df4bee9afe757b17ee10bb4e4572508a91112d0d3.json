{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _base = require(\"../base\");\nvar VELOCITY_EPS = 5;\nfunction decay(clock, state, config) {\n  var lastTime = (0, _base.cond)(state.time, state.time, clock);\n  var deltaTime = (0, _base.sub)(clock, lastTime);\n  var kv = (0, _base.pow)(config.deceleration, deltaTime);\n  var kx = (0, _base.divide)((0, _base.multiply)(config.deceleration, (0, _base.sub)(1, kv)), (0, _base.sub)(1, config.deceleration));\n  var v0 = (0, _base.divide)(state.velocity, 1000);\n  var v = (0, _base.multiply)(v0, kv, 1000);\n  var x = (0, _base.add)(state.position, (0, _base.multiply)(v0, kx));\n  return (0, _base.block)([(0, _base.set)(state.position, x), (0, _base.set)(state.velocity, v), (0, _base.set)(state.time, clock), (0, _base.cond)((0, _base.lessThan)((0, _base.abs)(v), VELOCITY_EPS), (0, _base.set)(state.finished, 1))]);\n}\nvar procDecay = (0, _base.proc)(function (clock, time, velocity, position, finished, deceleration) {\n  return decay(clock, {\n    time: time,\n    velocity: velocity,\n    position: position,\n    finished: finished\n  }, {\n    deceleration: deceleration\n  });\n});\nvar _default = function _default(clock, _ref, _ref2) {\n  var time = _ref.time,\n    velocity = _ref.velocity,\n    position = _ref.position,\n    finished = _ref.finished;\n  var deceleration = _ref2.deceleration;\n  return procDecay(clock, time, velocity, position, finished, deceleration);\n};\nexports.default = _default;","map":{"version":3,"names":["_base","require","VELOCITY_EPS","decay","clock","state","config","lastTime","cond","time","deltaTime","sub","kv","pow","deceleration","kx","divide","multiply","v0","velocity","v","x","add","position","block","set","lessThan","abs","finished","procDecay","proc","_default","_ref","_ref2","exports","default"],"sources":["/home/ahmed/Music/softtag/Source Code/node_modules/react-native-reanimated/lib/module/animations/decay.js"],"sourcesContent":["import {\n  cond,\n  sub,\n  pow,\n  divide,\n  multiply,\n  add,\n  block,\n  set,\n  lessThan,\n  proc,\n  abs,\n} from '../base';\n\nconst VELOCITY_EPS = 5;\n\nfunction decay(clock, state, config) {\n  const lastTime = cond(state.time, state.time, clock);\n  const deltaTime = sub(clock, lastTime);\n\n  // v0 = v / 1000\n  // v = v0 * powf(deceleration, dt);\n  // v = v * 1000;\n\n  // x0 = x;\n  // x = x0 + v0 * deceleration * (1 - powf(deceleration, dt)) / (1 - deceleration)\n  const kv = pow(config.deceleration, deltaTime);\n  const kx = divide(\n    multiply(config.deceleration, sub(1, kv)),\n    sub(1, config.deceleration)\n  );\n  const v0 = divide(state.velocity, 1000);\n  const v = multiply(v0, kv, 1000);\n  const x = add(state.position, multiply(v0, kx));\n  return block([\n    set(state.position, x),\n    set(state.velocity, v),\n    set(state.time, clock),\n    cond(lessThan(abs(v), VELOCITY_EPS), set(state.finished, 1)),\n  ]);\n}\n\nconst procDecay = proc(\n  (clock, time, velocity, position, finished, deceleration) =>\n    decay(clock, { time, velocity, position, finished }, { deceleration })\n);\n\nexport default (\n  clock,\n  { time, velocity, position, finished },\n  { deceleration }\n) => procDecay(clock, time, velocity, position, finished, deceleration);\n"],"mappings":";;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAcA,IAAMC,YAAY,GAAG,CAArB;AAEA,SAASC,KAATA,CAAeC,KAAf,EAAsBC,KAAtB,EAA6BC,MAA7B,EAAqC;EACnC,IAAMC,QAAQ,GAAG,IAAAC,UAAI,EAACH,KAAK,CAACI,IAAP,EAAaJ,KAAK,CAACI,IAAnB,EAAyBL,KAAzB,CAArB;EACA,IAAMM,SAAS,GAAG,IAAAC,SAAG,EAACP,KAAD,EAAQG,QAAR,CAArB;EAQA,IAAMK,EAAE,GAAG,IAAAC,SAAG,EAACP,MAAM,CAACQ,YAAR,EAAsBJ,SAAtB,CAAd;EACA,IAAMK,EAAE,GAAG,IAAAC,YAAM,EACf,IAAAC,cAAQ,EAACX,MAAM,CAACQ,YAAR,EAAsB,IAAAH,SAAG,EAAC,CAAD,EAAIC,EAAJ,CAAzB,CADO,EAEf,IAAAD,SAAG,EAAC,CAAD,EAAIL,MAAM,CAACQ,YAAX,CAFY,CAAjB;EAIA,IAAMI,EAAE,GAAG,IAAAF,YAAM,EAACX,KAAK,CAACc,QAAP,EAAiB,IAAjB,CAAjB;EACA,IAAMC,CAAC,GAAG,IAAAH,cAAQ,EAACC,EAAD,EAAKN,EAAL,EAAS,IAAT,CAAlB;EACA,IAAMS,CAAC,GAAG,IAAAC,SAAG,EAACjB,KAAK,CAACkB,QAAP,EAAiB,IAAAN,cAAQ,EAACC,EAAD,EAAKH,EAAL,CAAzB,CAAb;EACA,OAAO,IAAAS,WAAK,EAAC,CACX,IAAAC,SAAG,EAACpB,KAAK,CAACkB,QAAP,EAAiBF,CAAjB,CADQ,EAEX,IAAAI,SAAG,EAACpB,KAAK,CAACc,QAAP,EAAiBC,CAAjB,CAFQ,EAGX,IAAAK,SAAG,EAACpB,KAAK,CAACI,IAAP,EAAaL,KAAb,CAHQ,EAIX,IAAAI,UAAI,EAAC,IAAAkB,cAAQ,EAAC,IAAAC,SAAG,EAACP,CAAD,CAAJ,EAASlB,YAAT,CAAT,EAAiC,IAAAuB,SAAG,EAACpB,KAAK,CAACuB,QAAP,EAAiB,CAAjB,CAApC,CAJO,CAAD,CAAZ;AAMD;AAED,IAAMC,SAAS,GAAG,IAAAC,UAAI,EACpB,UAAC1B,KAAD,EAAQK,IAAR,EAAcU,QAAd,EAAwBI,QAAxB,EAAkCK,QAAlC,EAA4Cd,YAA5C;EAAA,OACEX,KAAK,CAACC,KAAD,EAAQ;IAAEK,IAAF,EAAEA,IAAF;IAAQU,QAAR,EAAQA,QAAR;IAAkBI,QAAlB,EAAkBA,QAAlB;IAA4BK,QAAA,EAAAA;EAA5B,CAAR,EAAgD;IAAEd,YAAA,EAAAA;EAAF,CAAhD,CAFa;AAAA,EAAtB;AAAA,IAAAiB,QAAA,GAKe,SAAAA,SACb3B,KADa,EAAA4B,IAAA,EAAAC,KAAA;EAAA,IAEXxB,IAAF,GAAAuB,IAAA,CAAEvB,IAAF;IAAQU,QAAR,GAAAa,IAAA,CAAQb,QAAR;IAAkBI,QAAlB,GAAAS,IAAA,CAAkBT,QAAlB;IAA4BK,QAAA,GAAAI,IAAA,CAAAJ,QAAA;EAAA,IAC1Bd,YAAA,GAAAmB,KAAA,CAAAnB,YAAA;EAAA,OACCe,SAAS,CAACzB,KAAD,EAAQK,IAAR,EAAcU,QAAd,EAAwBI,QAAxB,EAAkCK,QAAlC,EAA4Cd,YAA5C,CAJd;AAAA;AAAAoB,OAAA,CAAAC,OAAA,GAAAJ,QAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}