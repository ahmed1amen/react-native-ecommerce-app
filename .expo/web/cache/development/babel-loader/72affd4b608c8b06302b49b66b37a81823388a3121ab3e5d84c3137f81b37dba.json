{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _nativeInterface = _interopRequireDefault(require(\"./nativeInterface\"));\nvar _internetReachability = _interopRequireDefault(require(\"./internetReachability\"));\nvar PrivateTypes = _interopRequireWildcard(require(\"./privateTypes\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar State = function State(configuration) {\n  var _this = this;\n  (0, _classCallCheck2.default)(this, State);\n  this._nativeEventSubscription = null;\n  this._subscriptions = new Set();\n  this._latestState = null;\n  this._handleNativeStateUpdate = function (state) {\n    _this._internetReachability.update(state);\n    var convertedState = _this._convertState(state);\n    _this._latestState = convertedState;\n    _this._subscriptions.forEach(function (handler) {\n      return handler(convertedState);\n    });\n  };\n  this._handleInternetReachabilityUpdate = function (isInternetReachable) {\n    if (!_this._latestState) {\n      return;\n    }\n    var nextState = (0, _objectSpread2.default)({}, _this._latestState, {\n      isInternetReachable: isInternetReachable\n    });\n    _this._latestState = nextState;\n    _this._subscriptions.forEach(function (handler) {\n      return handler(nextState);\n    });\n  };\n  this._fetchCurrentState = function _callee(requestedInterface) {\n    var state, convertedState;\n    return _regenerator.default.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regenerator.default.awrap(_nativeInterface.default.getCurrentState(requestedInterface));\n          case 2:\n            state = _context.sent;\n            _this._internetReachability.update(state);\n            convertedState = _this._convertState(state);\n            if (!requestedInterface) {\n              _this._latestState = convertedState;\n            }\n            return _context.abrupt(\"return\", convertedState);\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, this);\n  };\n  this._convertState = function (input) {\n    if (typeof input.isInternetReachable === 'boolean') {\n      return input;\n    } else {\n      return (0, _objectSpread2.default)({}, input, {\n        isInternetReachable: _this._internetReachability.currentState()\n      });\n    }\n  };\n  this.latest = function (requestedInterface) {\n    if (requestedInterface) {\n      return _this._fetchCurrentState(requestedInterface);\n    } else if (_this._latestState) {\n      return Promise.resolve(_this._latestState);\n    } else {\n      return _this._fetchCurrentState();\n    }\n  };\n  this.add = function (handler) {\n    _this._subscriptions.add(handler);\n    if (_this._latestState) {\n      handler(_this._latestState);\n    } else {\n      _this.latest().then(handler);\n    }\n  };\n  this.remove = function (handler) {\n    _this._subscriptions.delete(handler);\n  };\n  this.tearDown = function () {\n    if (_this._internetReachability) {\n      _this._internetReachability.tearDown();\n    }\n    if (_this._nativeEventSubscription) {\n      _this._nativeEventSubscription.remove();\n    }\n    _this._subscriptions.clear();\n  };\n  this._internetReachability = new _internetReachability.default(configuration, this._handleInternetReachabilityUpdate);\n  this._nativeEventSubscription = _nativeInterface.default.eventEmitter.addListener(PrivateTypes.DEVICE_CONNECTIVITY_EVENT, this._handleNativeStateUpdate);\n  this._fetchCurrentState();\n};\nexports.default = State;","map":{"version":3,"names":["_nativeInterface","_interopRequireDefault","require","_internetReachability","PrivateTypes","_interopRequireWildcard","State","configuration","_this","_classCallCheck","_nativeEventSubscription","_subscriptions","Set","_latestState","_handleNativeStateUpdate","state","update","convertedState","_convertState","forEach","handler","_handleInternetReachabilityUpdate","isInternetReachable","nextState","_objectSpread","_fetchCurrentState","_callee","requestedInterface","_regeneratorRuntime","async","_callee$","_context","prev","next","awrap","NativeInterface","getCurrentState","sent","abrupt","stop","input","currentState","latest","Promise","resolve","add","then","remove","delete","tearDown","clear","InternetReachability","eventEmitter","addListener","DEVICE_CONNECTIVITY_EVENT"],"sources":["/home/ahmed/Music/softtag/Source Code/node_modules/@react-native-community/netinfo/lib/module/internal/state.ts"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n */\n\nimport {NativeEventSubscription} from 'react-native';\nimport NativeInterface from './nativeInterface';\nimport InternetReachability from './internetReachability';\nimport * as Types from './types';\nimport * as PrivateTypes from './privateTypes';\n\nexport default class State {\n  private _nativeEventSubscription: NativeEventSubscription | null = null;\n  private _subscriptions = new Set<Types.NetInfoChangeHandler>();\n  private _latestState: Types.NetInfoState | null = null;\n  private _internetReachability: InternetReachability;\n\n  constructor(configuration: Types.NetInfoConfiguration) {\n    // Add the listener to the internet connectivity events\n    this._internetReachability = new InternetReachability(\n      configuration,\n      this._handleInternetReachabilityUpdate,\n    );\n\n    // Add the subscription to the native events\n    this._nativeEventSubscription = NativeInterface.eventEmitter.addListener(\n      PrivateTypes.DEVICE_CONNECTIVITY_EVENT,\n      this._handleNativeStateUpdate,\n    );\n\n    // Fetch the current state from the native module\n    this._fetchCurrentState();\n  }\n\n  private _handleNativeStateUpdate = (\n    state: PrivateTypes.NetInfoNativeModuleState,\n  ): void => {\n    // Update the internet reachability module\n    this._internetReachability.update(state);\n\n    // Convert the state from native to JS shape\n    const convertedState = this._convertState(state);\n\n    // Update the listeners\n    this._latestState = convertedState;\n    this._subscriptions.forEach((handler): void => handler(convertedState));\n  };\n\n  private _handleInternetReachabilityUpdate = (\n    isInternetReachable: boolean | null | undefined,\n  ): void => {\n    if (!this._latestState) {\n      return;\n    }\n\n    const nextState = {\n      ...this._latestState,\n      isInternetReachable,\n    } as Types.NetInfoState;\n    this._latestState = nextState;\n    this._subscriptions.forEach((handler): void => handler(nextState));\n  };\n\n  private _fetchCurrentState = async (\n    requestedInterface?: string,\n  ): Promise<Types.NetInfoState> => {\n    const state = await NativeInterface.getCurrentState(requestedInterface);\n\n    // Update the internet reachability module\n    this._internetReachability.update(state);\n    // Convert and store the new state\n    const convertedState = this._convertState(state);\n    if (!requestedInterface) {\n      this._latestState = convertedState;\n    }\n\n    return convertedState;\n  };\n\n  private _convertState = (\n    input: PrivateTypes.NetInfoNativeModuleState,\n  ): Types.NetInfoState => {\n    if (typeof input.isInternetReachable === 'boolean') {\n      return input as Types.NetInfoState;\n    } else {\n      return {\n        ...input,\n        isInternetReachable: this._internetReachability.currentState(),\n      } as Types.NetInfoState;\n    }\n  };\n\n  public latest = (\n    requestedInterface?: string,\n  ): Promise<Types.NetInfoState> => {\n    if (requestedInterface) {\n      return this._fetchCurrentState(requestedInterface);\n    } else if (this._latestState) {\n      return Promise.resolve(this._latestState);\n    } else {\n      return this._fetchCurrentState();\n    }\n  };\n\n  public add = (handler: Types.NetInfoChangeHandler): void => {\n    // Add the subscription handler to our set\n    this._subscriptions.add(handler);\n\n    // Send it the latest data we have\n    if (this._latestState) {\n      handler(this._latestState);\n    } else {\n      this.latest().then(handler);\n    }\n  };\n\n  public remove = (handler: Types.NetInfoChangeHandler): void => {\n    this._subscriptions.delete(handler);\n  };\n\n  public tearDown = (): void => {\n    if (this._internetReachability) {\n      this._internetReachability.tearDown();\n    }\n\n    if (this._nativeEventSubscription) {\n      this._nativeEventSubscription.remove();\n    }\n\n    this._subscriptions.clear();\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}