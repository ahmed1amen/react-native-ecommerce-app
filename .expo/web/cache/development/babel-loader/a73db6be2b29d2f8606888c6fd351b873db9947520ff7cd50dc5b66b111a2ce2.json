{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactRedux = require(\"react-redux\");\nvar _actions = require(\"/home/ahmed/Music/softtag/Source Code/src/modules/common/actions\");\nvar _actions2 = require(\"/home/ahmed/Music/softtag/Source Code/src/modules/auth/actions\");\nvar _selectors = require(\"/home/ahmed/Music/softtag/Source Code/src/modules/auth/selectors\");\nvar _actions3 = require(\"/home/ahmed/Music/softtag/Source Code/src/modules/category/actions\");\nvar _service = require(\"/home/ahmed/Music/softtag/Source Code/src/modules/common/service\");\nvar _reactNativeSplashScreen = _interopRequireDefault(require(\"react-native-splash-screen\"));\nvar _excluded = [\"configs\", \"templates\"];\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LoadingScreen = function (_React$Component) {\n  (0, _inherits2.default)(LoadingScreen, _React$Component);\n  var _super = _createSuper(LoadingScreen);\n  function LoadingScreen() {\n    var _this;\n    (0, _classCallCheck2.default)(this, LoadingScreen);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.bootstrapAsync = function _callee() {\n      var _this$props, initSetting, handleFetchCategories, isLoginBool, isLoginFc, settings, configs, templates, rest;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _this$props = _this.props, initSetting = _this$props.initSetting, handleFetchCategories = _this$props.handleFetchCategories, isLoginBool = _this$props.isLoginBool, isLoginFc = _this$props.isLoginFc;\n              _context.next = 4;\n              return _regenerator.default.awrap((0, _service.fetchSetting)());\n            case 4:\n              settings = _context.sent;\n              configs = settings.configs, templates = settings.templates, rest = (0, _objectWithoutProperties2.default)(settings, _excluded);\n              if (isLoginBool) {\n                isLoginFc();\n              }\n              initSetting({\n                settings: rest,\n                configs: configs,\n                templates: templates\n              });\n              handleFetchCategories();\n              _reactNativeSplashScreen.default.hide();\n              _context.next = 15;\n              break;\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 12]], Promise);\n    };\n    return _this;\n  }\n  (0, _createClass2.default)(LoadingScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.bootstrapAsync();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return LoadingScreen;\n}(_react.default.Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoginBool: (0, _selectors.isLoginSelector)(state)\n  };\n};\nvar mapDispatchToProps = {\n  initSetting: _actions.fetchSettingSuccess,\n  handleFetchCategories: _actions3.fetchCategories,\n  isLoginFc: _actions2.isLogin\n};\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(LoadingScreen);\nexports.default = _default;","map":{"version":3,"names":["_react","_interopRequireDefault","require","_reactRedux","_actions","_actions2","_selectors","_actions3","_service","_reactNativeSplashScreen","_excluded","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","default","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","prototype","valueOf","call","e","LoadingScreen","_React$Component","_inherits2","_super","_this","_classCallCheck2","_len","length","args","Array","_key","concat","bootstrapAsync","_callee","_this$props","initSetting","handleFetchCategories","isLoginBool","isLoginFc","settings","configs","templates","rest","_regenerator","async","_callee$","_context","prev","next","props","awrap","fetchSetting","sent","_objectWithoutProperties2","SplashScreen","hide","t0","console","error","stop","Promise","_createClass2","key","value","componentDidMount","render","React","Component","mapStateToProps","state","isLoginSelector","mapDispatchToProps","fetchSettingSuccess","fetchCategories","isLogin","_default","connect","exports"],"sources":["/home/ahmed/Music/softtag/Source Code/src/screens/loading.js"],"sourcesContent":["// @flow\n\nimport React from 'react';\n\nimport {connect} from 'react-redux';\nimport {fetchSettingSuccess} from 'src/modules/common/actions';\nimport {isLogin} from 'src/modules/auth/actions';\nimport {isLoginSelector} from 'src/modules/auth/selectors';\nimport {fetchCategories} from 'src/modules/category/actions';\nimport {fetchSetting} from 'src/modules/common/service';\n\nimport SplashScreen from 'react-native-splash-screen';\n\ntype Props = {\n  initSetting: Function,\n};\n\nclass LoadingScreen extends React.Component<Props> {\n  componentDidMount() {\n    this.bootstrapAsync();\n  }\n\n  /**\n   * Init data\n   * @returns {Promise<void>}\n   */\n  bootstrapAsync = async () => {\n    try {\n      const {initSetting, handleFetchCategories, isLoginBool, isLoginFc} =\n        this.props;\n\n      // Fetch setting\n      let settings = await fetchSetting();\n      // const configs = await fetchConfig();\n      // const templates = await fetchTemplate();\n\n      const {configs, templates, ...rest} = settings;\n\n      // Check user token\n      if (isLoginBool) {\n        isLoginFc();\n      }\n\n      initSetting({\n        settings: rest,\n        configs: configs,\n        templates: templates,\n      });\n      // Fetch categories\n      handleFetchCategories();\n      // const router = isGettingStart ? rootSwitch.start : configs.requireLogin && !isLogin ? rootSwitch.auth : rootSwitch.main;\n      // navigation.navigate(router);\n      SplashScreen.hide();\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  render() {\n    return null;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isLoginBool: isLoginSelector(state),\n  };\n};\n\nconst mapDispatchToProps = {\n  initSetting: fetchSettingSuccess,\n  handleFetchCategories: fetchCategories,\n  isLoginFc: isLogin,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoadingScreen);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}