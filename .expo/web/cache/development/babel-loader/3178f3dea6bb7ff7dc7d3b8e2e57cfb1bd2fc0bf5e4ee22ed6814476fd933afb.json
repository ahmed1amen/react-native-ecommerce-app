{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _NativeEventEmitter2 = _interopRequireDefault(require(\"../EventEmitter/NativeEventEmitter\"));\nvar _logError = _interopRequireDefault(require(\"../Utilities/logError\"));\nvar _EventEmitter2 = _interopRequireDefault(require(\"../vendor/emitter/EventEmitter\"));\nvar _NativeAppState = _interopRequireDefault(require(\"./NativeAppState\"));\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AppState = function (_NativeEventEmitter) {\n  (0, _inherits2.default)(AppState, _NativeEventEmitter);\n  var _super = _createSuper(AppState);\n  function AppState() {\n    var _this;\n    (0, _classCallCheck2.default)(this, AppState);\n    _this = _super.call(this, _NativeAppState.default);\n    _this._supportedEvents = ['change', 'memoryWarning', 'blur', 'focus'];\n    _this.isAvailable = true;\n    _this._eventHandlers = _this._supportedEvents.reduce(function (handlers, key) {\n      handlers[key] = new Map();\n      return handlers;\n    }, {});\n    _this.currentState = _NativeAppState.default.getConstants().initialAppState;\n    var eventUpdated = false;\n    _this.addListener('appStateDidChange', function (appStateData) {\n      eventUpdated = true;\n      _this.currentState = appStateData.app_state;\n    });\n    _NativeAppState.default.getCurrentAppState(function (appStateData) {\n      if (!eventUpdated && _this.currentState !== appStateData.app_state) {\n        _this.currentState = appStateData.app_state;\n        _this.emit('appStateDidChange', appStateData);\n      }\n    }, _logError.default);\n    return _this;\n  }\n  (0, _createClass2.default)(AppState, [{\n    key: \"addEventListener\",\n    value: function addEventListener(type, handler) {\n      (0, _invariant.default)(this._supportedEvents.indexOf(type) !== -1, 'Trying to subscribe to unknown event: \"%s\"', type);\n      switch (type) {\n        case 'change':\n          {\n            this._eventHandlers[type].set(handler, this.addListener('appStateDidChange', function (appStateData) {\n              handler(appStateData.app_state);\n            }));\n            break;\n          }\n        case 'memoryWarning':\n          {\n            this._eventHandlers[type].set(handler, this.addListener('memoryWarning', handler));\n            break;\n          }\n        case 'blur':\n        case 'focus':\n          {\n            this._eventHandlers[type].set(handler, this.addListener('appStateFocusChange', function (hasFocus) {\n              if (type === 'blur' && !hasFocus) {\n                handler();\n              }\n              if (type === 'focus' && hasFocus) {\n                handler();\n              }\n            }));\n          }\n      }\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type, handler) {\n      (0, _invariant.default)(this._supportedEvents.indexOf(type) !== -1, 'Trying to remove listener for unknown event: \"%s\"', type);\n      if (!this._eventHandlers[type].has(handler)) {\n        return;\n      }\n      this._eventHandlers[type].get(handler).remove();\n      this._eventHandlers[type].delete(handler);\n    }\n  }]);\n  return AppState;\n}(_NativeEventEmitter2.default);\nfunction throwMissingNativeModule() {\n  (0, _invariant.default)(false, 'Cannot use AppState module when native RCTAppState is not included in the build.\\n' + 'Either include it, or check AppState.isAvailable before calling any methods.');\n}\nvar MissingNativeAppStateShim = function (_EventEmitter) {\n  (0, _inherits2.default)(MissingNativeAppStateShim, _EventEmitter);\n  var _super2 = _createSuper(MissingNativeAppStateShim);\n  function MissingNativeAppStateShim() {\n    var _this2;\n    (0, _classCallCheck2.default)(this, MissingNativeAppStateShim);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n    _this2.isAvailable = false;\n    _this2.currentState = null;\n    return _this2;\n  }\n  (0, _createClass2.default)(MissingNativeAppStateShim, [{\n    key: \"addEventListener\",\n    value: function addEventListener(type, handler) {\n      throwMissingNativeModule();\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type, handler) {\n      throwMissingNativeModule();\n    }\n  }, {\n    key: \"addListener\",\n    value: function addListener() {\n      throwMissingNativeModule();\n    }\n  }, {\n    key: \"removeAllListeners\",\n    value: function removeAllListeners() {\n      throwMissingNativeModule();\n    }\n  }, {\n    key: \"removeSubscription\",\n    value: function removeSubscription() {\n      throwMissingNativeModule();\n    }\n  }]);\n  return MissingNativeAppStateShim;\n}(_EventEmitter2.default);\nvar AppStateInstance = _NativeAppState.default ? new AppState() : new MissingNativeAppStateShim();\nmodule.exports = AppStateInstance;","map":{"version":3,"names":["_interopRequireDefault","require","_classCallCheck2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_NativeEventEmitter2","_logError","_EventEmitter2","_NativeAppState","_invariant","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","default","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","AppState","_NativeEventEmitter","_super","_this","NativeAppState","_supportedEvents","isAvailable","_eventHandlers","reduce","handlers","key","Map","currentState","getConstants","initialAppState","eventUpdated","addListener","appStateData","app_state","getCurrentAppState","emit","logError","value","addEventListener","type","handler","invariant","indexOf","set","hasFocus","removeEventListener","has","get","remove","delete","NativeEventEmitter","throwMissingNativeModule","MissingNativeAppStateShim","_EventEmitter","_super2","_this2","_len","length","args","Array","_key","concat","removeAllListeners","removeSubscription","EventEmitter","AppStateInstance","module","exports"],"sources":["/home/ahmed/Music/softtag/Source Code/node_modules/react-native/Libraries/AppState/AppState.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nimport NativeEventEmitter from '../EventEmitter/NativeEventEmitter';\nimport logError from '../Utilities/logError';\nimport EventEmitter from '../vendor/emitter/EventEmitter';\nimport NativeAppState from './NativeAppState';\nimport invariant from 'invariant';\n\n/**\n * `AppState` can tell you if the app is in the foreground or background,\n * and notify you when the state changes.\n *\n * See https://reactnative.dev/docs/appstate.html\n */\nclass AppState extends NativeEventEmitter {\n  _eventHandlers: Object;\n  _supportedEvents = ['change', 'memoryWarning', 'blur', 'focus'];\n  currentState: ?string;\n  isAvailable: boolean;\n\n  constructor() {\n    super(NativeAppState);\n\n    this.isAvailable = true;\n    this._eventHandlers = this._supportedEvents.reduce((handlers, key) => {\n      handlers[key] = new Map();\n      return handlers;\n    }, {});\n\n    this.currentState = NativeAppState.getConstants().initialAppState;\n\n    let eventUpdated = false;\n\n    // TODO: this is a terrible solution - in order to ensure `currentState`\n    // prop is up to date, we have to register an observer that updates it\n    // whenever the state changes, even if nobody cares. We should just\n    // deprecate the `currentState` property and get rid of this.\n    this.addListener('appStateDidChange', appStateData => {\n      eventUpdated = true;\n      this.currentState = appStateData.app_state;\n    });\n\n    // TODO: see above - this request just populates the value of `currentState`\n    // when the module is first initialized. Would be better to get rid of the\n    // prop and expose `getCurrentAppState` method directly.\n    NativeAppState.getCurrentAppState(appStateData => {\n      // It's possible that the state will have changed here & listeners need to be notified\n      if (!eventUpdated && this.currentState !== appStateData.app_state) {\n        this.currentState = appStateData.app_state;\n        this.emit('appStateDidChange', appStateData);\n      }\n    }, logError);\n  }\n\n  // TODO: now that AppState is a subclass of NativeEventEmitter, we could\n  // deprecate `addEventListener` and `removeEventListener` and just use\n  // addListener` and `listener.remove()` directly. That will be a breaking\n  // change though, as both the method and event names are different\n  // (addListener events are currently required to be globally unique).\n  /**\n   * Add a handler to AppState changes by listening to the `change` event type\n   * and providing the handler.\n   *\n   * See https://reactnative.dev/docs/appstate.html#addeventlistener\n   */\n  addEventListener(type: string, handler: Function) {\n    invariant(\n      this._supportedEvents.indexOf(type) !== -1,\n      'Trying to subscribe to unknown event: \"%s\"',\n      type,\n    );\n\n    switch (type) {\n      case 'change': {\n        this._eventHandlers[type].set(\n          handler,\n          this.addListener('appStateDidChange', appStateData => {\n            handler(appStateData.app_state);\n          }),\n        );\n        break;\n      }\n      case 'memoryWarning': {\n        this._eventHandlers[type].set(\n          handler,\n          this.addListener('memoryWarning', handler),\n        );\n        break;\n      }\n\n      case 'blur':\n      case 'focus': {\n        this._eventHandlers[type].set(\n          handler,\n          this.addListener('appStateFocusChange', hasFocus => {\n            if (type === 'blur' && !hasFocus) {\n              handler();\n            }\n            if (type === 'focus' && hasFocus) {\n              handler();\n            }\n          }),\n        );\n      }\n    }\n  }\n\n  /**\n   * Remove a handler by passing the `change` event type and the handler.\n   *\n   * See https://reactnative.dev/docs/appstate.html#removeeventlistener\n   */\n  removeEventListener(type: string, handler: Function) {\n    invariant(\n      this._supportedEvents.indexOf(type) !== -1,\n      'Trying to remove listener for unknown event: \"%s\"',\n      type,\n    );\n    if (!this._eventHandlers[type].has(handler)) {\n      return;\n    }\n    this._eventHandlers[type].get(handler).remove();\n    this._eventHandlers[type].delete(handler);\n  }\n}\n\nfunction throwMissingNativeModule() {\n  invariant(\n    false,\n    'Cannot use AppState module when native RCTAppState is not included in the build.\\n' +\n      'Either include it, or check AppState.isAvailable before calling any methods.',\n  );\n}\n\nclass MissingNativeAppStateShim extends EventEmitter {\n  // AppState\n  isAvailable: boolean = false;\n  currentState: ?string = null;\n\n  addEventListener(type: string, handler: Function) {\n    throwMissingNativeModule();\n  }\n\n  removeEventListener(type: string, handler: Function) {\n    throwMissingNativeModule();\n  }\n\n  // EventEmitter\n  addListener() {\n    throwMissingNativeModule();\n  }\n\n  removeAllListeners() {\n    throwMissingNativeModule();\n  }\n\n  removeSubscription() {\n    throwMissingNativeModule();\n  }\n}\n\n// This module depends on the native `RCTAppState` module. If you don't include it,\n// `AppState.isAvailable` will return `false`, and any method calls will throw.\n// We reassign the class variable to keep the autodoc generator happy.\nconst AppStateInstance: AppState | MissingNativeAppStateShim = NativeAppState\n  ? new AppState()\n  : new MissingNativeAppStateShim();\n\nmodule.exports = AppStateInstance;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}