{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultPropsData = exports.getSingleData = void 0;\nvar _recompose = require(\"recompose\");\nvar _service = require(\"/home/ahmed/Music/softtag/Source Code/src/modules/product/service\");\nvar getSingleData = (0, _recompose.lifecycle)({\n  componentDidMount: function componentDidMount() {\n    var _route$params$id, _route$params, _route$params$type, _route$params2;\n    var _this$props = this.props,\n      route = _this$props.route,\n      lang = _this$props.lang;\n    var id = (_route$params$id = route == null ? void 0 : (_route$params = route.params) == null ? void 0 : _route$params.id) != null ? _route$params$id : '';\n    var type = (_route$params$type = route == null ? void 0 : (_route$params2 = route.params) == null ? void 0 : _route$params2.type) != null ? _route$params$type : 'product';\n    var _this$props2 = this.props,\n      updateData = _this$props2.updateData,\n      updateLoading = _this$props2.updateLoading;\n    if (id) {\n      var fetchData = type === 'blog' ? _service.getSingleBlog : type === 'page' ? _service.getSinglePage : _service.getSingleProduct;\n      fetchData(id, lang).then(function (data) {\n        updateData(data);\n      }).catch(function (error) {\n        console.log(error, id);\n      }).finally(function () {\n        updateLoading(false);\n      });\n    } else {\n      updateLoading(false);\n    }\n  }\n});\nexports.getSingleData = getSingleData;\nvar defaultPropsData = (0, _recompose.compose)((0, _recompose.withState)('loading', 'updateLoading', true), (0, _recompose.withState)('data', 'updateData', {}));\nexports.defaultPropsData = defaultPropsData;","map":{"version":3,"names":["_recompose","require","_service","getSingleData","lifecycle","componentDidMount","_route$params$id","_route$params","_route$params$type","_route$params2","_this$props","props","route","lang","id","params","type","_this$props2","updateData","updateLoading","fetchData","getSingleBlog","getSinglePage","getSingleProduct","then","data","catch","error","console","log","finally","exports","defaultPropsData","compose","withState"],"sources":["/home/ahmed/Music/softtag/Source Code/src/hoc/single-data.js"],"sourcesContent":["import {lifecycle, withState, compose} from 'recompose';\nimport {\n  getSingleProduct,\n  getSingleBlog,\n  getSinglePage,\n} from 'src/modules/product/service';\n\nexport const getSingleData = lifecycle({\n  componentDidMount() {\n    const {route, lang} = this.props;\n    const id = route?.params?.id ?? '';\n    const type = route?.params?.type ?? 'product';\n    const {updateData, updateLoading} = this.props;\n    if (id) {\n      const fetchData =\n        type === 'blog'\n          ? getSingleBlog\n          : type === 'page'\n          ? getSinglePage\n          : getSingleProduct;\n      fetchData(id, lang)\n        .then(data => {\n          updateData(data);\n        })\n        .catch(error => {\n          console.log(error, id);\n        })\n        .finally(() => {\n          updateLoading(false);\n        });\n    } else {\n      updateLoading(false);\n    }\n  },\n});\n\nexport const defaultPropsData = compose(\n  withState('loading', 'updateLoading', true),\n  withState('data', 'updateData', {}),\n);\n"],"mappings":";;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAMO,IAAME,aAAa,GAAG,IAAAC,oBAAS,EAAC;EACrCC,iBAAiB,WAAAA,kBAAA,EAAG;IAAA,IAAAC,gBAAA,EAAAC,aAAA,EAAAC,kBAAA,EAAAC,cAAA;IAClB,IAAAC,WAAA,GAAsB,IAAI,CAACC,KAAK;MAAzBC,KAAK,GAAAF,WAAA,CAALE,KAAK;MAAEC,IAAI,GAAAH,WAAA,CAAJG,IAAI;IAClB,IAAMC,EAAE,IAAAR,gBAAA,GAAGM,KAAK,qBAAAL,aAAA,GAALK,KAAK,CAAEG,MAAM,qBAAbR,aAAA,CAAeO,EAAE,YAAAR,gBAAA,GAAI,EAAE;IAClC,IAAMU,IAAI,IAAAR,kBAAA,GAAGI,KAAK,qBAAAH,cAAA,GAALG,KAAK,CAAEG,MAAM,qBAAbN,cAAA,CAAeO,IAAI,YAAAR,kBAAA,GAAI,SAAS;IAC7C,IAAAS,YAAA,GAAoC,IAAI,CAACN,KAAK;MAAvCO,UAAU,GAAAD,YAAA,CAAVC,UAAU;MAAEC,aAAa,GAAAF,YAAA,CAAbE,aAAa;IAChC,IAAIL,EAAE,EAAE;MACN,IAAMM,SAAS,GACbJ,IAAI,KAAK,MAAM,GACXK,sBAAa,GACbL,IAAI,KAAK,MAAM,GACfM,sBAAa,GACbC,yBAAgB;MACtBH,SAAS,CAACN,EAAE,EAAED,IAAI,CAAC,CAChBW,IAAI,CAAC,UAAAC,IAAI,EAAI;QACZP,UAAU,CAACO,IAAI,CAAC;MAClB,CAAC,CAAC,CACDC,KAAK,CAAC,UAAAC,KAAK,EAAI;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,EAAEb,EAAE,CAAC;MACxB,CAAC,CAAC,CACDgB,OAAO,CAAC,YAAM;QACbX,aAAa,CAAC,KAAK,CAAC;MACtB,CAAC,CAAC;IACN,CAAC,MAAM;MACLA,aAAa,CAAC,KAAK,CAAC;IACtB;EACF;AACF,CAAC,CAAC;AAACY,OAAA,CAAA5B,aAAA,GAAAA,aAAA;AAEI,IAAM6B,gBAAgB,GAAG,IAAAC,kBAAO,EACrC,IAAAC,oBAAS,EAAC,SAAS,EAAE,eAAe,EAAE,IAAI,CAAC,EAC3C,IAAAA,oBAAS,EAAC,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC,CACpC;AAACH,OAAA,CAAAC,gBAAA,GAAAA,gBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}